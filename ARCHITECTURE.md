# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Harley-Davidson XG750A —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä Tactrix OpenPort 2.0.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    main.py (CLI)                            ‚îÇ
‚îÇ                    –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              harley_diagnostics.py                          ‚îÇ
‚îÇ         –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏                 ‚îÇ
‚îÇ  ‚Ä¢ read_vin()                                               ‚îÇ
‚îÇ  ‚Ä¢ scan_for_odometer()                                      ‚îÇ
‚îÇ  ‚Ä¢ read_odometer()                                          ‚îÇ
‚îÇ  ‚Ä¢ read_ecu_info()                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  uds_client.py                              ‚îÇ
‚îÇ           UDS Protocol Layer (ISO 14229)                    ‚îÇ
‚îÇ  ‚Ä¢ DiagnosticSessionControl (0x10)                          ‚îÇ
‚îÇ  ‚Ä¢ TesterPresent (0x3E)                                     ‚îÇ
‚îÇ  ‚Ä¢ ReadDataByIdentifier (0x22)                              ‚îÇ
‚îÇ  ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π + keep-alive                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                isotp_handler.py                             ‚îÇ
‚îÇ        ISO-TP Transport Layer (ISO 15765-2)                 ‚îÇ
‚îÇ  ‚Ä¢ Single Frame (SF)                                        ‚îÇ
‚îÇ  ‚Ä¢ First Frame (FF) + Flow Control (FC)                     ‚îÇ
‚îÇ  ‚Ä¢ Consecutive Frames (CF)                                  ‚îÇ
‚îÇ  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è/—Å–±–æ—Ä–∫–∞                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               j2534_wrapper.py                              ‚îÇ
‚îÇ          J2534 PassThru API Wrapper                         ‚îÇ
‚îÇ  ‚Ä¢ PassThruOpen/Close                                       ‚îÇ
‚îÇ  ‚Ä¢ PassThruConnect/Disconnect                               ‚îÇ
‚îÇ  ‚Ä¢ PassThruReadMsgs/WriteMsgs                               ‚îÇ
‚îÇ  ‚Ä¢ –§–æ–Ω–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          j2534_constants.py + ctypes                        ‚îÇ
‚îÇ       –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã J2534                    ‚îÇ
‚îÇ  ‚Ä¢ PASSTHRU_MSG                                             ‚îÇ
‚îÇ  ‚Ä¢ Protocol IDs, Error codes                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              OpenPort 2.0 J2534 DLL                         ‚îÇ
‚îÇ               (openport.dll)                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          Tactrix OpenPort 2.0 Hardware                      ‚îÇ
‚îÇ              (USB -> OBD-II)                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          CAN Bus (500 kbit/s, ISO 15765)                    ‚îÇ
‚îÇ          Harley-Davidson XG750A ECU                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ú–æ–¥—É–ª–∏ –∏ –∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

### 1. config.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü—É—Ç—å –∫ J2534 DLL
- CAN –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å–∫–æ—Ä–æ—Å—Ç—å, –∞–¥—Ä–µ—Å–∞)
- ISO-TP –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (timeout, block size)
- UDS –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (session timeout, tester present interval)
- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ DIDs

**–ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫–∏**, —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.

---

### 2. j2534_constants.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã J2534 API

**–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç:**
- `PASSTHRU_MSG` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CAN —Å–æ–æ–±—â–µ–Ω–∏—è
- Protocol IDs (ISO15765, CAN, etc.)
- Error codes –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è
- Filter types
- IOCTL IDs

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ctypes.Structure` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å C
- –í—Å–µ –ø–æ–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ SAE J2534

---

### 3. j2534_wrapper.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±–µ—Ä—Ç–∫–∞ J2534 API

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
class J2534Wrapper:
    def open_device()           # –û—Ç–∫—Ä—ã—Ç–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞
    def close_device()          # –ó–∞–∫—Ä—ã—Ç–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞
    def connect_channel()       # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ CAN
    def disconnect_channel()    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç CAN
    def write_message()         # –û—Ç–ø—Ä–∞–≤–∫–∞ CAN —Å–æ–æ–±—â–µ–Ω–∏—è
    def read_messages()         # –ß—Ç–µ–Ω–∏–µ CAN —Å–æ–æ–±—â–µ–Ω–∏–π
    def set_flow_control_filter() # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞
    def start_reading()         # –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ —á—Ç–µ–Ω–∏—è
    def stop_reading()          # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ —á—Ç–µ–Ω–∏—è
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–§–æ–Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫** –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è (`_read_loop`)
- ‚úÖ **–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π** —Å thread-safe –¥–æ—Å—Ç—É–ø–æ–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ **Context manager** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (`__enter__`, `__exit__`)

**–ü–æ—Ç–æ–∫–∏:**
```
Main Thread              Background Thread
    ‚îÇ                         ‚îÇ
    ‚îú‚îÄ> start_reading()       ‚îÇ
    ‚îÇ   creates thread ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îÇ                         ‚îú‚îÄ> _read_loop()
    ‚îÇ                         ‚îÇ   ‚Ä¢ PassThruReadMsgs
    ‚îÇ                         ‚îÇ   ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å
    ‚îÇ                         ‚îÇ   ‚Ä¢ Sleep 10ms
    ‚îÇ                         ‚îî‚îÄ> repeat
    ‚îÇ                         
    ‚îú‚îÄ> get_queued_messages() 
    ‚îÇ   ‚Ä¢ –ß–∏—Ç–∞–µ—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏
    ‚îÇ   ‚Ä¢ Thread-safe
```

---

### 4. isotp_handler.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ISO-TP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
class ISOTPHandler:
    def send(data)                    # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å ISO-TP
    def receive()                     # –ü—Ä–∏–µ–º —Å ISO-TP
    def _send_single_frame()          # SF (‚â§7 –±–∞–π—Ç)
    def _send_multi_frame()           # FF + CF (>7 –±–∞–π—Ç)
    def _receive_multi_frame()        # –ü—Ä–∏–µ–º FF + CF
    def _wait_for_flow_control()      # –û–∂–∏–¥–∞–Ω–∏–µ FC
```

**–¢–∏–ø—ã –∫–∞–¥—Ä–æ–≤:**

1. **Single Frame (SF)** - ‚â§7 –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö
   ```
   [0x0N] [Data1] [Data2] ... [Data7]
    ‚îî‚îÄ‚î¨‚îÄ‚îò
      ‚îî‚îÄ N = –¥–ª–∏–Ω–∞ –¥–∞–Ω–Ω—ã—Ö (0-7)
   ```

2. **First Frame (FF)** - –Ω–∞—á–∞–ª–æ –º–Ω–æ–≥–æ–∫–∞–¥—Ä–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   ```
   [0x1H] [0xLL] [Data1] ... [Data6]
    ‚îî‚îÄ‚î¨‚îÄ‚îò ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò
      ‚îÇ      ‚îî‚îÄ LL = –º–ª–∞–¥—à–∏–π –±–∞–π—Ç –¥–ª–∏–Ω—ã
      ‚îî‚îÄ H = —Å—Ç–∞—Ä—à–∏–π –ø–æ–ª—É–±–∞–π—Ç –¥–ª–∏–Ω—ã (0-F)
   –û–±—â–∞—è –¥–ª–∏–Ω–∞ = (H << 8) | LL
   ```

3. **Consecutive Frame (CF)** - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   ```
   [0x2N] [Data1] [Data2] ... [Data7]
    ‚îî‚îÄ‚î¨‚îÄ‚îò
      ‚îî‚îÄ N = sequence number (0-F, —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏)
   ```

4. **Flow Control (FC)** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
   ```
   [0x3S] [BS] [STmin]
    ‚îî‚îÄ‚î¨‚îÄ‚îò ‚îî‚î¨‚îò  ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò
      ‚îÇ    ‚îÇ      ‚îî‚îÄ Separation Time (–º—Å –º–µ–∂–¥—É CF)
      ‚îÇ    ‚îî‚îÄ Block Size (—Å–∫–æ–ª—å–∫–æ CF –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å)
      ‚îî‚îÄ S = Status (0=Continue, 1=Wait, 2=Overflow)
   ```

**–ê–ª–≥–æ—Ä–∏—Ç–º –º–Ω–æ–≥–æ–∫–∞–¥—Ä–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏:**
```
Sender (Python)          Receiver (ECU)
    ‚îÇ                         ‚îÇ
    ‚îú‚îÄ> FF [10 17 62 F1 ...]  ‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îÇ                     <‚îÄ‚î§ FC [30 00 00]
    ‚îÇ                         ‚îÇ
    ‚îú‚îÄ> CF [21 90 35 48 ...]  ‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îú‚îÄ> CF [22 44 31 48 ...]  ‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îî‚îÄ> CF [23 44 4C ...]     ‚îÇ
```

---

### 5. uds_client.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** UDS (Unified Diagnostic Services) –∫–ª–∏–µ–Ω—Ç

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
class UDSClient:
    def send_request(sid, data)           # –ë–∞–∑–æ–≤—ã–π UDS –∑–∞–ø—Ä–æ—Å
    def diagnostic_session_control()      # 0x10 - —Å–º–µ–Ω–∞ —Å–µ—Å—Å–∏–∏
    def tester_present()                  # 0x3E - keep-alive
    def read_data_by_identifier(did)      # 0x22 - —á—Ç–µ–Ω–∏–µ DID
    def start_tester_present()            # –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ TP
    def stop_tester_present()             # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ TP
```

**UDS Service IDs (SIDs):**
| SID  | –ù–∞–∑–≤–∞–Ω–∏–µ                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                    |
|------|-------------------------------|-------------------------------|
| 0x10 | DiagnosticSessionControl      | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏           |
| 0x3E | TesterPresent                 | Keep-alive —Å–µ—Å—Å–∏–∏             |
| 0x22 | ReadDataByIdentifier          | –ß—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ DID       |
| 0x27 | SecurityAccess                | –ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)|
| 0x2E | WriteDataByIdentifier         | –ó–∞–ø–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–æ–ø–∞—Å–Ω–æ!)    |

**–§–æ—Ä–º–∞—Ç UDS –∑–∞–ø—Ä–æ—Å–∞:**
```
Request:  [SID] [SubFunction/DID_H] [DID_L] [Data...]
Response: [SID+0x40] [DID_H] [DID_L] [Data...]

–ü—Ä–∏–º–µ—Ä —á—Ç–µ–Ω–∏—è VIN (DID 0xF190):
Request:  22 F1 90
Response: 62 F1 90 31 48 44 34 4C 45 32 31 38 4B 43 31 32 33 34 35 36
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ VIN –≤ ASCII: "1HD4LE218KC123456" ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Negative Response:**
```
[0x7F] [Requested_SID] [NRC]
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚î¨‚îò
              ‚îÇ             ‚îî‚îÄ Negative Response Code
              ‚îî‚îÄ –°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª—Å—è
```

**TesterPresent Keep-Alive:**
```
Main Thread              Background Thread
    ‚îÇ                         ‚îÇ
    ‚îú‚îÄ> start_tester_present()‚îÇ
    ‚îÇ   creates thread ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îÇ                         ‚îú‚îÄ> _tester_present_loop()
    ‚îÇ                         ‚îÇ   ‚Ä¢ send 0x3E 0x80
    ‚îÇ                         ‚îÇ   ‚Ä¢ Sleep 2 sec
    ‚îÇ                         ‚îî‚îÄ> repeat
    ‚îÇ
    ‚îú‚îÄ> (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)
    ‚îÇ   TesterPresent —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ!
    ‚îÇ
    ‚îú‚îÄ> stop_tester_present()
    ‚îÇ   stops thread <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
```

**–ü–æ—á–µ–º—É TesterPresent –≤–∞–∂–µ–Ω:**
- –≠–ë–£ –∏–º–µ–µ—Ç timeout ~5 —Å–µ–∫—É–Ω–¥
- –ï—Å–ª–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å TesterPresent, —Å–µ—Å—Å–∏—è –∑–∞–∫—Ä–æ–µ—Ç—Å—è
- Extended Diagnostic Session —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ keep-alive

---

### 6. harley_diagnostics.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ Harley-Davidson

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
class HarleyDiagnostics:
    def connect()                    # –ü–æ–ª–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    def disconnect()                 # –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ
    def read_vin()                   # –ß—Ç–µ–Ω–∏–µ VIN (DID 0xF190)
    def scan_for_odometer()          # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DIDs
    def read_odometer(did)           # –ß—Ç–µ–Ω–∏–µ –æ–¥–æ–º–µ—Ç—Ä–∞
    def read_ecu_info()              # –ß—Ç–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≠–ë–£
    def _analyze_odometer_data()     # –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ–¥–æ–º–µ—Ç—Ä–∞
```

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å connect():**
```
1. J2534: PassThruOpen()
2. J2534: PassThruConnect(ISO15765, 500k)
3. J2534: PassThruStartMsgFilter(Flow Control)
4. J2534: Start background reading thread
5. ISO-TP: Initialize handler
6. UDS: Initialize client
7. UDS: DiagnosticSessionControl(Extended)
8. UDS: Start TesterPresent keep-alive
‚úÖ Connected!
```

**–ê–Ω–∞–ª–∏–∑ –æ–¥–æ–º–µ—Ç—Ä–∞:**
–§—É–Ω–∫—Ü–∏—è `_analyze_odometer_data()` –ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏:
- 2-byte Big Endian
- 3-byte Big Endian (—Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ 1, 0.1)
- 4-byte Big Endian (—Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ 1, 0.1, 0.01)
- ASCII –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª—å—é –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é.

---

### 7. main.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Command Line Interface (CLI)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```bash
--read-vin              # –ß—Ç–µ–Ω–∏–µ VIN
--scan                  # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DIDs
--read-odometer DID     # –ß—Ç–µ–Ω–∏–µ –æ–¥–æ–º–µ—Ç—Ä–∞
--ecu-info              # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≠–ë–£
--scan-range START END  # –ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
--verbose               # DEBUG –ª–æ–≥–∏
```

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ CLI:**
```python
argparse.ArgumentParser
    ‚Üì
HarleyDiagnostics()
    ‚Üì
connect() ‚Üí read_vin() ‚Üí scan_for_odometer() ‚Üí disconnect()
    ‚Üì
–í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

---

## –ü–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Threading)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 3 –ø–æ—Ç–æ–∫–∞:

### 1. Main Thread
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥
- –û—Ç–ø—Ä–∞–≤–∫–∞ UDS –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

### 2. J2534 Read Thread (`j2534_wrapper._read_loop`)
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ `PassThruReadMsgs`
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ—á–µ—Ä–µ–¥—å
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞

### 3. TesterPresent Thread (`uds_client._tester_present_loop`)
- –û—Ç–ø—Ä–∞–≤–∫–∞ `0x3E 0x80` –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Å—Å–∏–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ —Å–µ—Å—Å–∏—è

**Thread Safety:**
- –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞—â–∏—â–µ–Ω–∞ `threading.Lock`
- TesterPresent –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `threading.Event` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
```
Exception
    ‚îú‚îÄ‚îÄ J2534Exception      (j2534_wrapper.py)
    ‚îú‚îÄ‚îÄ ISOTPException      (isotp_handler.py)
    ‚îî‚îÄ‚îÄ UDSException        (uds_client.py)
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **J2534 —É—Ä–æ–≤–µ–Ω—å:**
   - –í—Å–µ –Ω–µ–Ω—É–ª–µ–≤—ã–µ –∫–æ–¥—ã ‚Üí J2534Exception
   - –°–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–∑ `J2534_ERRORS`

2. **ISO-TP —É—Ä–æ–≤–µ–Ω—å:**
   - Timeout ‚Üí –≤–æ–∑–≤—Ä–∞—Ç None (–Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π sequence ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ

3. **UDS —É—Ä–æ–≤–µ–Ω—å:**
   - Negative Response ‚Üí UDSException —Å NRC
   - Timeout ‚Üí –≤–æ–∑–≤—Ä–∞—Ç None
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π response SID ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

---

## –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö UDS —Å–µ—Ä–≤–∏—Å–æ–≤

```python
# –í uds_client.py
def write_data_by_identifier(self, did: int, data: bytes):
    """–ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö (0x2E)"""
    did_bytes = bytes([did >> 8, did & 0xFF])
    return self.send_request(WRITE_DATA_BY_IDENTIFIER, did_bytes + data)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤

```python
# –í j2534_wrapper.py
def connect_kwp2000(self):
    """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ K-line (ISO 14230)"""
    return self.connect_channel(protocol_id=ISO14230, baudrate=10400)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –≠–ë–£

```python
# –í harley_diagnostics.py
class HarleyBCMDiagnostics(HarleyDiagnostics):
    """–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ BCM (Body Control Module)"""
    def __init__(self):
        super().__init__()
        self.request_id = 0x7E1   # BCM address
        self.response_id = 0x7E9
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ó–∞–¥–µ—Ä–∂–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

| –û–ø–µ—Ä–∞—Ü–∏—è                    | –¢–∏–ø–∏—á–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ |
|-----------------------------|-------------------|
| PassThruWriteMsgs           | ~5-10 –º—Å          |
| PassThruReadMsgs (polling)  | ~10-50 –º—Å         |
| Single Frame UDS request    | ~50-100 –º—Å        |
| Multi-frame UDS request     | ~200-500 –º—Å       |
| Scan –æ–¥–Ω–æ–≥–æ DID             | ~100-200 –º—Å       |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ –§–æ–Ω–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ TesterPresent –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏
- ‚ùå J2534 API –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö CAN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Kvaser, Peak)

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞—â–∏—Ç—ã

1. **Read-only –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
   - –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
   - –ó–∞–ø–∏—Å—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ

2. **–¢–∞–π–º–∞—É—Ç—ã**
   - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–µ—é—Ç —Ç–∞–π–º–∞—É—Ç—ã
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–µ

3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã**
   - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - `with HarleyDiagnostics() as diag:`

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏

- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ UDS –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –Ω–∞—Ä—É—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –≠–ë–£
- –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º
- –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω **–¢–û–õ–¨–ö–û –¥–ª—è —á—Ç–µ–Ω–∏—è**

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫:
```
CLI ‚Üí High-level API ‚Üí UDS ‚Üí ISO-TP ‚Üí J2534 ‚Üí Hardware ‚Üí CAN ‚Üí ECU
```

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.
